(function($){$.fn.foundationCarousel=function(settings){var container=$(this);var defaults={gutter:30,controlContainer:"carousel-control",itemSelector:"item",slidesContainer:"slides",prevText:"Previous",nextText:"Next",prevClass:"carousel-prev",nextClass:"carousel-next",};var options=$.extend(defaults,settings);var slides=container.children(options.slidesContainer);var item=container.find(options.itemSelector);var controlPrev='<a class="'+options.prevClass+'" href="#">'+options.prevText+'</a>';var controlNext='<a class="'+options.nextClass+'" href="#">'+options.nextText+'</a>';var control=container.children(options.controlContainer);control.append(controlPrev);control.append(controlNext);var prev=control.children('.'+options.prevClass);var next=control.children('.'+options.nextClass);var child_size;var marginBase=parseInt(options.gutter)/2;$(window).resize(function(){init()}).resize();function init(){item.css('float','left');if(item.filter(':first').hasClass('large-3')){slides.attr('data-num',4);child_size=container.parents('.row').width()/4}else if(item.filter(':first').hasClass('large-4')){slides.attr('data-num',3);child_size=container.parents('.row').width()/3}else if(item.filter(':first').hasClass('large-6')){slides.attr('data-num',2);child_size=container.parents('.row').width()/2}if(jQuery('html').filter(':first').width()<='767'){slides.attr('data-num',1);child_size=container.parents('.row').width()}item.css('width',child_size);slides.attr('data-width',child_size);slides.attr('data-max',item.length);slides.width(item.length*child_size);var cur_index=parseInt(slides.attr('data-index'));slides.css({'margin-left':-(cur_index*child_size+marginBase)})}prev.click(function(e){e.preventDefault();movePrevious()});next.click(function(e){e.preventDefault();moveNext()});function movePrevious(){var cur_index=parseInt(slides.attr('data-index'));if(cur_index>0){cur_index--}slides.attr('data-index',cur_index);slides.animate({'margin-left':-(cur_index*parseInt(slides.attr('data-width'))+marginBase)})}function moveNext(){var cur_index=parseInt(slides.attr('data-index'));if(cur_index+parseInt(slides.attr('data-num'))<parseInt(slides.attr('data-max'))){cur_index++}slides.attr('data-index',cur_index);slides.animate({'margin-left':-(cur_index*parseInt(slides.attr('data-width'))+marginBase)})}}})(jQuery);